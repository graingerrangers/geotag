<!DOCTYPE html>
<html>
    <head>
    {% load static %}
    <title>Heatmap</title>
    </head>
    <style>
    #map {
        height: 100%;
    }

    html, body {
        height: 100%;
        margin: 0;
        padding: 0;
    }
    </style>
    <body>
        <div id="map"></div>

        <!-- <script src="{% static 'heatmap.js' %}"></script> -->
        <script>
        var map;
         function initMap() {
           map = new google.maps.Map(document.getElementById('map'), {
             center: {lat: 40.108944, lng: -88.2267678},
             zoom: 16,
             mapTypeId: 'terrain'
           });
        var heatmap = new google.maps.visualization.HeatmapLayer({
          data: {{heatmap_coords}},
          dissipating: false,
          map: map
        });

        heatmap.set('radius', heatmap.get('radius') ? null : 0.0003);
       var script = document.createElement('script');

      // This example uses a local copy of the GeoJSON stored at
      // http://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/2.5_week.geojsonp
      document.getElementsByTagName('head')[0].appendChild(script);
  }

        </script>
        <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAGXOthooqr2x2_hts4YM7iKwaadmcCjoc&libraries=visualization&callback=initMap"
async defer></script>
    </body>
</html>
